{% extends 'home/layout2.html' %}


{% block title %}
  {{user.username}}
{% endblock title %}
  

{% block body %}
<!-- Page Container -->
  <div class="w3-container w3-content" style="max-width:1400px;margin-top:80px">
    <!-- The Grid -->
    <div class="w3-row">

      <!-- Left Column -->
      <div class="w3-col l4">
        <!-- Profile -->
        <div class="w3-card w3-round w3-white">
          <div class="w3-container">
            <h4 class="w3-center">{{ user.username }}&apos;s Profile</h4>
            <p class="w3-center"><img src="{{ user.profile_pic.url }}" class="w3-circle" style="height:106px;width:106px" alt="Avatar"></p>
            <hr>
            <p><i class="fa fa-pencil fa-fw w3-margin-right w3-text-theme"></i>
              
              {% if user.is_doctor %}
                Doctor/Psychologist
              {% else %}
                Patient
              {% endif %}
                
            </p>
            <p><i class="fa fa-home fa-fw w3-margin-right w3-text-theme"></i>
              
              {% if user.home_town %}
                {{ user.home_town }}
                {% else %}
                No Information
              {% endif %}
                
            </p>
            <p><i class="fa fa-birthday-cake fa-fw w3-margin-right w3-text-theme"></i>
            
              {% if user.birth_date %}
                {{ user.birth_date }}
                {% else %}
                No Information
              {% endif %}
                
            </p>
          </div>
        </div>
        <br>

        {% if message %}
          <!-- Alert Box -->
          <div class="w3-container w3-display-container w3-pale-red w3-border w3-theme-border w3-margin-bottom">
            <span onclick="this.parentElement.style.display='none'" class="w3-button w3-display-topright">
              <i class="fa fa-remove"></i>
            </span>
            <p>{{ message }}</p>
          </div>
        {% endif %}

      <!-- End Left Column -->
      </div>

      <!-- Middle Column -->
      <div class="w3-col l8">
        <div class="w3-row-padding">
          <div class="w3-col m12">
            <div class="w3-card w3-white w3-round w3-margin-bottom"><br>
              <div class="w3-container w3-padding">
                <!-- Form -->
                <form class="w3-large" action="{% url 'home:profile_edit' %}" method="post">
                  {% csrf_token %}
                  <h4 class="w3-text-theme-dark">What Do We Call You?</h4>
                  <p class="w3-padding">      
                    <label class="w3-text-theme w3-large"><b>First Name</b></label>
                    <input class="w3-input w3-border" name="first_name" type="text" value="{{user.first_name}}" required />
                  </p>
                  <p class="w3-padding">      
                    <label class="w3-text-theme w3-large"><b>Last Name</b></label>
                    <input class="w3-input w3-border" name="last_name" type="text" value="{{user.last_name}}" required />
                  </p>
                  <p class="w3-padding">      
                    <label class="w3-text-theme w3-large"><b>Sex</b></label>
                    <select class="w3-select w3-border" name="sex">
                      <option value="" disabled selected>Choose your option</option>
                      <option value="Male">Male</option>
                      <option value="Female">Female</option>
                      <option value="Intersex">Intersex</option>
                    </select>
                  </p>
                  <p class="w3-padding">      
                    <label class="w3-text-theme w3-large"><b>Username</b></label>
                    <input class="w3-input w3-border" name="username" type="text" value="{{user.username}}" required />
                  </p>
                  <p class="w3-padding">      
                    <label class="w3-text-theme w3-large"><b>Email</b></label>
                    <input class="w3-input w3-border" name="email" type="text" value="{{user.email}}" disabled />
                  </p>
                  <hr>
                  <h4 class="w3-text-theme-dark">Where Do You Live?</h4>
                  <p class="w3-padding">      
                    <label class="w3-text-theme w3-large"><b>Country</b></label>
                    <input class="w3-input w3-border" name="country" type="text" value="{{user.country}}" />
                  </p>
                  <p class="w3-padding">      
                    <label class="w3-text-theme w3-large"><b>City</b></label>
                    <input class="w3-input w3-border" name="city" type="text" value="{{user.city}}" />
                  </p>
                  <hr>
                  <h4 class="w3-text-theme-dark">What Do You Look Like?</h4>
                  <p class="w3-padding">   
                    <label class="w3-text-theme w3-large"><b>Profile Picture</b></label>
                    <input class="w3-input w3-border" name="profile_pic" type="file" id="imgInp" accept="image/*" />
                    <img id="preview" src="#" alt="preview" style="display:none;height:106px;width:106px" onclick="onClick(this)" class="w3-round w3-margin" />
                  </p>
                  <p class="w3-padding">      
                    <label class="w3-text-theme w3-large"><b>About</b></label>
                    <textarea class="w3-input w3-border" name="about" type="text" placeholder="Tell Your Doctors A Little About Yourself">{{user.about}}</textarea>
                  </p>
                  <hr>
                  <h4 class="w3-text-theme-dark">Enter Password To Confirm Changes</h4>
                  <p class="w3-padding">      
                    <label class="w3-text-theme w3-large"><b>Password</b></label>
                    <input class="w3-input w3-border" name="password" type="password" required />
                  </p>
                  <p class="w3-padding">      
                    <label class="w3-text-theme w3-large"><b>Confirm Password</b></label>
                    <input class="w3-input w3-border" name="confirmation" type="password" required />
                  </p>
                    
                  <p>
                    <button class="w3-btn w3-theme w3-large w3-margin-bottom" type="submit">Done</button>
                  </p>
                </form>
              </div>
            </div>
          </div>
        </div>
        
      <!-- End Middle Column -->
      </div>

    </div>
  </div>
{% endblock body %}