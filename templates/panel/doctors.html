{% extends 'panel/layout2.html' %}
{% load static %}


{% block title %}
  Doctors
{% endblock title %}


{% block styles %}
  <style>
    .checked {
      color: orange;
    }
    .rating {
      display: flex;
      flex-direction: row;
      align-items: center;
      margin-top: 10px;
    }
  </style>
{% endblock styles %}


{% block body %}
  <!-- Header -->
  <header class="w3-container" style="padding-top:22px">
    
    {% if user.is_doctor %}
      <h5><b><i class="fa-solid fa-hospital-user"></i> Patient</b></h5>
      {% else %}
      <h5><b><i class="fa-solid fa-user-doctor"></i> Doctors</b></h5>
    {% endif %}
  </header>

  <div class="w3-container"><br>
    
    {% for doctor in page_obj %}
      <div class="w3-row w3-padding">
        <div class="w3-col m2 text-center">
          <img class="w3-circle" src="{{ doctor.photo.url }}" style="width:96px;height:96px">
        </div>
        <div class="w3-col m10 w3-container">
          <div class="rating">
            <h4 style="margin:0;">
              {{ doctor.first_name }} {% firstof doctor.last_name 'No Name' %}&nbsp;-&nbsp; 
            </h4> 
            <span> 
              <span class="fa fa-star w3-small checked"></span>
              <span class="fa fa-star w3-small checked"></span>
              <span class="fa fa-star w3-small checked"></span>
              <span class="fa fa-star w3-small"></span>
              <span class="fa fa-star w3-small"></span>
            </span> 
          </div>
          <span class="w3-opacity w3-medium">{% firstof doctor.doctor_user.first.get_title_display 'Specialty Not Provided' %}</span>
          <p>{{ doctor.about }} <small class="w3-text-red"><a href="{% url 'panel:doctor_profile' doctor.id %}">See Profile</a></small></p>
        </div>
      </div>

      <hr class="black">
    {% endfor %}
  </div>

  <!-- pagination buttons -->
  <div class="w3-center">
    <div class="w3-bar w3-margin w3-padding">
        {% if page_obj.has_previous %}
          <a class="w3-button w3-bar-item" href="?page=1">&laquo; First</a>

          <a class="w3-button w3-bar-item" href="?page={{ page_obj.previous_page_number }}">Previous</a>
        {% endif %}

        {% for number in number_of_pages %}
        
            {% if page_obj.number == number %}
                <a class="w3-button w3-bar-item w3-black" href="?page={{number}}">{{number}}</a>
                {% else %}
                <a class="w3-button w3-bar-item" href="?page={{number}}">{{number}}</a>
            {% endif %}
            
        {% endfor %}

        {% if page_obj.has_next %}
          <a class="w3-button w3-bar-item" href="?page={{ page_obj.next_page_number }}">Next</a>
          <a class="w3-button w3-bar-item" href="?page={{ page_obj.paginator.num_pages }}">Last &raquo;</a>
        {% endif %}
    </div>
  </div>

{% endblock body %}
  


{% block scripts %}
  <script>
    document.getElementById('people').classList.add('w3-pale-green')
  </script>
{% endblock scripts %}
  